# 6.824/kvraft
fatal error: runtime: cannot allocate memory

runtime stack:
runtime.throw({0xd6e0fd, 0xace86d})
	c:/go/src/runtime/panic.go:1198 +0x76
runtime.newArenaMayUnlock()
	c:/go/src/runtime/mheap.go:2091 +0xac
runtime.newMarkBits(0xc000099800)
	c:/go/src/runtime/mheap.go:2011 +0x145
runtime.(*mheap).allocSpan(0xf655c0, 0x1, 0x0, 0x10)
	c:/go/src/runtime/mheap.go:1243 +0x33f
runtime.(*mheap).alloc.func1()
	c:/go/src/runtime/mheap.go:913 +0x69
runtime.systemstack()
	c:/go/src/runtime/asm_amd64.s:383 +0x4e

goroutine 1 [running]:
runtime.systemstack_switch()
	c:/go/src/runtime/asm_amd64.s:350 fp=0xc0001d9f38 sp=0xc0001d9f30 pc=0xaffe40
runtime.(*mheap).alloc(0x1b07d235000, 0xb01e27, 0xdd, 0x1)
	c:/go/src/runtime/mheap.go:907 +0x73 fp=0xc0001d9f88 sp=0xc0001d9f38 pc=0xac5eb3
runtime.(*mcentral).grow(0xad2185)
	c:/go/src/runtime/mcentral.go:241 +0x65 fp=0xc0001d9fd0 sp=0xc0001d9f88 pc=0xab7685
runtime.(*mcentral).cacheSpan(0xf76600)
	c:/go/src/runtime/mcentral.go:161 +0x69e fp=0xc0001da048 sp=0xc0001d9fd0 pc=0xab74be
runtime.(*mcache).refill(0x1b057f20598, 0x10)
	c:/go/src/runtime/mcache.go:162 +0xaf fp=0xc0001da098 sp=0xc0001da048 pc=0xab66cf
runtime.(*mcache).nextFree(0x1b057f20598, 0x10)
	c:/go/src/runtime/malloc.go:880 +0x85 fp=0xc0001da0e0 sp=0xc0001da098 pc=0xaac605
runtime.mallocgc(0x58, 0xd4e840, 0x1)
	c:/go/src/runtime/malloc.go:1071 +0x4e8 fp=0xc0001da160 sp=0xc0001da0e0 pc=0xaacc88
runtime.newobject(0xd24940)
	c:/go/src/runtime/malloc.go:1228 +0x27 fp=0xc0001da188 sp=0xc0001da160 pc=0xaad1a7
go/internal/gcimporter.(*iimporter).typAt(0xc000113a70, 0x11ab, 0x0)
	c:/go/src/go/internal/gcimporter/iimport.go:240 +0xa7 fp=0xc0001da200 sp=0xc0001da188 pc=0xca0a27
go/internal/gcimporter.(*importReader).typ(0xc000465d40)
	c:/go/src/go/internal/gcimporter/iimport.go:470 +0x33 fp=0xc0001da228 sp=0xc0001da200 pc=0xca1e93
go/internal/gcimporter.(*importReader).doType(0xc000465d40, 0xc000456700)
	c:/go/src/go/internal/gcimporter/iimport.go:515 +0x5d5 fp=0xc0001da3b8 sp=0xc0001da228 pc=0xca2555
go/internal/gcimporter.(*iimporter).typAt(0xc000113a70, 0x11bb, 0xc000456700)
	c:/go/src/go/internal/gcimporter/iimport.go:242 +0x190 fp=0xc0001da430 sp=0xc0001da3b8 pc=0xca0b10
go/internal/gcimporter.(*importReader).obj(0xc000465ce0, {0xf38e88, 0x1})
	c:/go/src/go/internal/gcimporter/iimport.go:286 +0x17d fp=0xc0001da548 sp=0xc0001da430 pc=0xca0d9d
go/internal/gcimporter.(*iimporter).doDecl(0xc000113a70, 0xc000365220, {0xf38e88, 0x1})
	c:/go/src/go/internal/gcimporter/iimport.go:204 +0x1bc fp=0xc0001da5c8 sp=0xc0001da548 pc=0xca05dc
go/internal/gcimporter.(*importReader).doType(0xc000465c80, 0x0)
	c:/go/src/go/internal/gcimporter/iimport.go:489 +0x377 fp=0xc0001da758 sp=0xc0001da5c8 pc=0xca22f7
go/internal/gcimporter.(*iimporter).typAt(0xc000113a70, 0xa0, 0x0)
	c:/go/src/go/internal/gcimporter/iimport.go:242 +0x190 fp=0xc0001da7d0 sp=0xc0001da758 pc=0xca0b10
go/internal/gcimporter.(*importReader).typ(0xc000465c20)
	c:/go/src/go/internal/gcimporter/iimport.go:470 +0x33 fp=0xc0001da7f8 sp=0xc0001da7d0 pc=0xca1e93
go/internal/gcimporter.(*importReader).doType(0xc000465c20, 0x0)
	c:/go/src/go/internal/gcimporter/iimport.go:492 +0x3e5 fp=0xc0001da988 sp=0xc0001da7f8 pc=0xca2365
go/internal/gcimporter.(*iimporter).typAt(0xc000113a70, 0xa4, 0x0)
	c:/go/src/go/internal/gcimporter/iimport.go:242 +0x190 fp=0xc0001daa00 sp=0xc0001da988 pc=0xca0b10
go/internal/gcimporter.(*importReader).typ(0xc000465bc0)
	c:/go/src/go/internal/gcimporter/iimport.go:470 +0x33 fp=0xc0001daa28 sp=0xc0001daa00 pc=0xca1e93
go/internal/gcimporter.(*importReader).obj(0xc000465bc0, {0xc0003f30ac, 0x4})
	c:/go/src/go/internal/gcimporter/iimport.go:301 +0x216 fp=0xc0001dab40 sp=0xc0001daa28 pc=0xca0e36
go/internal/gcimporter.(*iimporter).doDecl(0xc000113a70, 0xc000365220, {0xc0003f30ac, 0x4})
	c:/go/src/go/internal/gcimporter/iimport.go:204 +0x1bc fp=0xc0001dabc0 sp=0xc0001dab40 pc=0xca05dc
go/internal/gcimporter.iImportData(0xc00016cc00, 0xdc4c48, 0xc00043d020, {0xc00000b380, 0x7})
	c:/go/src/go/internal/gcimporter/iimport.go:157 +0xa76 fp=0xc0001daf10 sp=0xc0001dabc0 pc=0xc9feb6
go/internal/gcimporter.Import(0x1000002030000, 0x0, {0xc00000b380, 0x7}, {0x0, 0xc0001db1e8}, 0xc000101f10)
	c:/go/src/go/internal/gcimporter/gcimporter.go:155 +0x7a5 fp=0xc0001db140 sp=0xc0001daf10 pc=0xc9ee25
go/importer.(*gcimports).ImportFrom(0x440, {0xc00000b380, 0x100000000000000}, {0x0, 0xc00011f9b0}, 0xc00000be67)
	c:/go/src/go/importer/importer.go:102 +0x47 fp=0xc0001db188 sp=0xc0001db140 pc=0xca6f47
go/importer.(*gcimports).Import(0xd246a0, {0xc00000b380, 0xc00000be67})
	c:/go/src/go/importer/importer.go:95 +0x25 fp=0xc0001db1c8 sp=0xc0001db188 pc=0xca6ec5
cmd/vendor/golang.org/x/tools/go/analysis/unitchecker.run.func2({0xc00000be67, 0xc000106c40})
	c:/go/src/cmd/vendor/golang.org/x/tools/go/analysis/unitchecker/unitchecker.go:222 +0x6d fp=0xc0001db220 sp=0xc0001db1c8 pc=0xcb86ed
cmd/vendor/golang.org/x/tools/go/analysis/unitchecker.importerFunc.Import(0xd23380, {0xc00000be67, 0xc000106c40})
	c:/go/src/cmd/vendor/golang.org/x/tools/go/analysis/unitchecker/unitchecker.go:398 +0x27 fp=0xc0001db240 sp=0xc0001db220 pc=0xcb8907
go/types.(*Checker).importPackage(0xc00006de00, {0xdc02a0, 0xc00017f880}, {0xc00000be67, 0x7}, {0xc000012840, 0x1a})
	c:/go/src/go/types/resolver.go:162 +0x265 fp=0xc0001db320 sp=0xc0001db240 pc=0xc69385
go/types.(*Checker).collectObjects.func1({0xdc0b00, 0xc00017b8f0})
	c:/go/src/go/types/resolver.go:262 +0xb11 fp=0xc0001db610 sp=0xc0001db320 pc=0xc6aeb1
go/types.(*Checker).walkDecl(0x800000000000, {0xdc5380, 0xc000182dc0}, 0xc0001db970)
	c:/go/src/go/types/decl.go:431 +0x1c7 fp=0xc0001db710 sp=0xc0001db610 pc=0xc4b8e7
go/types.(*Checker).walkDecls(0xc000012840, {0xc0001a4000, 0x2c, 0xc000156270}, 0xc00000b24b)
	c:/go/src/go/types/decl.go:418 +0x6a fp=0xc0001db760 sp=0xc0001db710 pc=0xc4b6ca
go/types.(*Checker).collectObjects(0xc00006de00)
	c:/go/src/go/types/resolver.go:252 +0x225 fp=0xc0001dba78 sp=0xc0001db760 pc=0xc699a5
go/types.(*Checker).checkFiles(0xc00006de00, {0xc00020c0c0, 0xc000211c20, 0x0})
	c:/go/src/go/types/check.go:263 +0xb5 fp=0xc0001dbae0 sp=0xc0001dba78 pc=0xc47a15
go/types.(*Checker).Files(...)
	c:/go/src/go/types/check.go:250
go/types.(*Config).Check(0xd240a0, {0xc00000b240, 0xc00000a240}, 0x5, {0xc00020c0c0, 0x5, 0x8}, 0xc000112510)
	c:/go/src/go/types/api.go:296 +0x85 fp=0xc0001dbb30 sp=0xc0001dbae0 pc=0xc3a765
cmd/vendor/golang.org/x/tools/go/analysis/unitchecker.run(0xc00016cc00, 0xc0001568f0, {0xc00016cac0, 0x8, 0x0})
	c:/go/src/cmd/vendor/golang.org/x/tools/go/analysis/unitchecker/unitchecker.go:236 +0x38b fp=0xc0001dbcc0 sp=0xc0001dbb30 pc=0xcb6d6b
cmd/vendor/golang.org/x/tools/go/analysis/unitchecker.Run({0xc0000161e0, 0x1b}, {0xc00016cac0, 0x8, 0x8})
	c:/go/src/cmd/vendor/golang.org/x/tools/go/analysis/unitchecker/unitchecker.go:132 +0xd1 fp=0xc0001dbe98 sp=0xc0001dbcc0 pc=0xcb6431
cmd/vendor/golang.org/x/tools/go/analysis/unitchecker.Main({0xc0001221c0, 0x1b, 0x1b})
	c:/go/src/cmd/vendor/golang.org/x/tools/go/analysis/unitchecker/unitchecker.go:119 +0x30b fp=0xc0001dbf38 sp=0xc0001dbe98 pc=0xcb626b
main.main()
	c:/go/src/cmd/vet/main.go:44 +0x3fc fp=0xc0001dbf80 sp=0xc0001dbf38 pc=0xcfb1fc
runtime.main()
	c:/go/src/runtime/proc.go:255 +0x217 fp=0xc0001dbfe0 sp=0xc0001dbf80 pc=0xad8217
runtime.goexit()
	c:/go/src/runtime/asm_amd64.s:1581 +0x1 fp=0xc0001dbfe8 sp=0xc0001dbfe0 pc=0xb021c1
# 6.824/kvraft.test
fatal error: out of memory allocating heap arena metadata

runtime stack:
runtime.throw({0xdb2ff2, 0x0})
	c:/go/src/runtime/panic.go:1198 +0x76
runtime.(*mheap).sysAlloc(0xf8e9a0, 0xb49e60)
	c:/go/src/runtime/malloc.go:750 +0x2f8
runtime.(*mheap).grow(0xf8e9a0, 0x143)
	c:/go/src/runtime/mheap.go:1347 +0x73
runtime.(*mheap).allocSpan(0xf8e9a0, 0x143, 0x0, 0x1)
	c:/go/src/runtime/mheap.go:1179 +0x165
runtime.(*mheap).alloc.func1()
	c:/go/src/runtime/mheap.go:913 +0x69
runtime.systemstack()
	c:/go/src/runtime/asm_amd64.s:383 +0x4e

goroutine 1 [running]:
runtime.systemstack_switch()
	c:/go/src/runtime/asm_amd64.s:350 fp=0xc000064720 sp=0xc000064718 pc=0xb83d20
runtime.(*mheap).alloc(0x286000, 0x143, 0x30, 0x0)
	c:/go/src/runtime/mheap.go:907 +0x73 fp=0xc000064770 sp=0xc000064720 pc=0xb46093
runtime.(*mcache).allocLarge(0x0, 0x286000, 0x0, 0x1)
	c:/go/src/runtime/mcache.go:227 +0x89 fp=0xc0000647d0 sp=0xc000064770 pc=0xb36909
runtime.mallocgc(0x286000, 0xd7a840, 0x1)
	c:/go/src/runtime/malloc.go:1082 +0x5c5 fp=0xc000064850 sp=0xc0000647d0 pc=0xb2d385
runtime.newarray(0x101010000000000, 0xc0000648a8)
	c:/go/src/runtime/malloc.go:1250 +0x52 fp=0xc000064878 sp=0xc000064850 pc=0xb2d852
runtime.makeBucketArray(0x0, 0x68, 0xc0000648f0)
	c:/go/src/runtime/map.go:362 +0x18e fp=0xc0000648b8 sp=0xc000064878 pc=0xb2e68e
runtime.makemap(0xd66b00, 0xede, 0xc000064bc0)
	c:/go/src/runtime/map.go:328 +0xfc fp=0xc000064900 sp=0xc0000648b8 pc=0xb2e43c
cmd/link/internal/loader.(*Loader).LoadSyms(0xc00013e300, 0xc00007eb40)
	c:/go/src/cmd/link/internal/loader/loader.go:2216 +0x1cf fp=0xc000064c00 sp=0xc000064900 pc=0xc2fbaf
cmd/link/internal/ld.(*Link).loadlib(0xc00014a000)
	c:/go/src/cmd/link/internal/ld/lib.go:577 +0x46e fp=0xc000064cb0 sp=0xc000064c00 pc=0xcbd18e
cmd/link/internal/ld.Main(_, {0x20, 0x20, 0x1, 0x7, 0x10, 0x0, {0x0, 0x0}, {0xdabb66, ...}, ...})
	c:/go/src/cmd/link/internal/ld/main.go:249 +0xd8b fp=0xc000064f28 sp=0xc000064cb0 pc=0xcd932b
main.main()
	c:/go/src/cmd/link/main.go:69 +0x1005 fp=0xc000065f80 sp=0xc000064f28 pc=0xd427c5
runtime.main()
	c:/go/src/runtime/proc.go:255 +0x217 fp=0xc000065fe0 sp=0xc000065f80 pc=0xb5a5f7
runtime.goexit()
	c:/go/src/runtime/asm_amd64.s:1581 +0x1 fp=0xc000065fe8 sp=0xc000065fe0 pc=0xb860a1
FAIL	6.824/kvraft [build failed]
